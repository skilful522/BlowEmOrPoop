(()=>{"use strict";var t={389:(t,e,i)=>{i.d(e,{Z:()=>h});var s=i(933),r=i.n(s),n=i(476),a=i.n(n)()(r());a.push([t.id,"* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n#canvas1 {\n    width: 800px;\n    height: 500px;\n    border: 1px solid black;\n    background: linear-gradient(to bottom, lightblue, blue, black);\n}",""]);const h=a},476:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",s=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),s&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),s&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,s,r,n){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(s)for(var h=0;h<this.length;h++){var o=this[h][0];null!=o&&(a[o]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);s&&a[d[0]]||(void 0!==n&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=n),i&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=i):d[2]=i),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),e.push(d))}},e}},933:t=>{t.exports=function(t){return t[1]}},892:t=>{var e=[];function i(t){for(var i=-1,s=0;s<e.length;s++)if(e[s].identifier===t){i=s;break}return i}function s(t,s){for(var n={},a=[],h=0;h<t.length;h++){var o=t[h],c=s.base?o[0]+s.base:o[0],d=n[c]||0,p="".concat(c," ").concat(d);n[c]=d+1;var l=i(p),f={css:o[1],media:o[2],sourceMap:o[3],supports:o[4],layer:o[5]};if(-1!==l)e[l].references++,e[l].updater(f);else{var u=r(f,s);s.byIndex=h,e.splice(h,0,{identifier:p,updater:u,references:1})}a.push(p)}return a}function r(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,r){var n=s(t=t||[],r=r||{});return function(t){t=t||[];for(var a=0;a<n.length;a++){var h=i(n[a]);e[h].references--}for(var o=s(t,r),c=0;c<n.length;c++){var d=i(n[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}n=o}}},311:t=>{var e={};t.exports=function(t,i){var s=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(i)}},60:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},192:(t,e,i)=>{t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},760:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var s="";i.supports&&(s+="@supports (".concat(i.supports,") {")),i.media&&(s+="@media ".concat(i.media," {"));var r=void 0!==i.layer;r&&(s+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),s+=i.css,r&&(s+="}"),i.media&&(s+="}"),i.supports&&(s+="}");var n=i.sourceMap;n&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},865:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function i(s){var r=e[s];if(void 0!==r)return r.exports;var n=e[s]={id:s,exports:{}};return t[s](n,n.exports,i),n.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");s.length&&(t=s[s.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})();var s={};(()=>{i.d(s,{wZ:()=>L,JN:()=>N,hM:()=>z});const t=document.getElementById("canvas1"),e=t.getContext("2d");t.width=800,t.height=500;const r=i.p+"593771d4fd8187e4cd147af04fc8a115.png",n=new Image;n.src=r;class a{constructor(){this.x=Math.random()*t.width,this.y=t.height+100,this.radius=25,this.spriteWidth=394,this.spriteHeight=512,this.frame=0,this.frameX=0,this.frameY=0,this.speed=6*Math.random(),this.sound=Math.random()<=.5?"sound1":"sound2",this.spriteRows=2,this.spriteColumns=4,this.isCollision=!1,this.sprites=this.spriteColumns*this.spriteRows,this.distance}update(){this.y-=this.speed;const t=this.x-z.x,e=this.y-z.y;this.distance=Math.sqrt(t*t+e*e),L%20==0&&(this.frame++,this.isCollision&&this.changeSprite())}changeSprite(){return this.frame%this.spriteColumns==0&&this.frame!==this.sprites?(this.frameY++,void(this.frameX=1)):this.frame>=this.sprites?(this.frame=0,this.frameX=1,void(this.frameY=0)):void this.frameX++}draw(){e.drawImage(n,this.frameX*this.spriteWidth,this.frameY*this.spriteHeight,this.spriteWidth,this.spriteHeight,this.x-40,this.y-40,3*this.radius,3*this.radius)}}const h=i.p+"bfe735ba496fa5983c362c596f792ccd.png",o=i.p+"069e27d887a7b69b5a2e58b3cd4260c1.png",c=new Image;c.src=h;const d=new Image;d.src=o;const p=i.p+"ee4aeb5075126f7cd55571c08a98b76c.png",l=new Image;l.src=p;const f={x1:0,x2:t.width,y:0,width:t.width,height:t.height},u={1:i.p+"d2258f44d73d972ddb0d35f574e6ac81.png",2:i.p+"ef84402b542fcbda27b0529ce271e1e4.png",3:i.p+"3122f656ebc123f78ab2af41750b07f6.png",4:i.p+"fd541cf2c25328a01535bc220070a631.png"};class m{constructor(){this.x=t.width+500,this.y=Math.random()*t.height,this.radius=50,this.speed=5*Math.random(),this.enemy=Math.floor(4*Math.random())+1,this.img=new Image}update(){this.x-=this.speed;const t=this.x-z.x,e=this.y-z.y;this.distance=Math.sqrt(t*t+e*e)}draw(){var t;this.img.src=(t=this.enemy,u[t]),e.drawImage(this.img,0,0,this.img.width,this.img.height,this.x-50,this.y-50,2*this.radius,2*this.radius)}}const g=(t,e)=>t.distance<t.radius+e.radius;var w=i(892),y=i.n(w),v=i(760),b=i.n(v),x=i(311),M=i.n(x),C=i(192),S=i.n(C),I=i(60),T=i.n(I),E=i(865),k=i.n(E),A=i(389),H={};H.styleTagTransform=k(),H.setAttributes=S(),H.insert=M().bind(null,"head"),H.domAPI=b(),H.insertStyleElement=T(),y()(A.Z,H),A.Z&&A.Z.locals&&A.Z.locals;const W=i.p+"22eff2123974b11fc1a9248d0f383a51.mp3",X=i.p+"368f4548b7108f2b6864af46eda52069.mp3",R=i.p+"99f3774195fe862cfe3f3a4978be9b2f.mp3",Y=i.p+"f6678430fe0d0a3d9b8debe4fb982d80.ogg",j=i.p+"dae8967ae2df26c7550b3381c5737257.wav";let L=0,N=1,P=!1,Z=0;const q=new Audio(W),B=new Audio(X),F=new Audio(R),O={x:t.width/2,y:t.height/2,click:"false"};let $=t.getBoundingClientRect();t.addEventListener("mousedown",(t=>{O.click=!0,B.play(),O.x=t.x-$.left,O.y=t.y-$.top})),t.addEventListener("mouseup",(t=>{O.click=!1}));const z=new class{constructor(){this.x=t.width,this.y=t.height/2,this.radius=50,this.isSwimming=!1,this.angle=0,this.frameX=0,this.frameY=0,this.frame=0,this.spriteWidth=498,this.spriteHeight=327,this.spriteRows=3,this.spriteColumns=4,this.sprites=this.spriteColumns*this.spriteRows}changeSprite(){return this.frame%this.spriteColumns==0&&this.frame!==this.sprites?(this.frameY++,void(this.frameX=0)):this.frame>=this.sprites?(this.frame=0,this.frameX=0,void(this.frameY=0)):void this.frameX++}update(t){this.isSwimming=!0;const e=this.x-t.x,i=this.y-t.y,s=Math.atan2(i,e);e<=15&&i<=15&&(this.isSwimming=!1),this.angle=s,t.x!==this.x&&(this.x-=e/30),t.y!==this.y&&(this.y-=i/30),L%5==0&&(this.frame++,this.changeSprite())}draw(t){t.click&&(e.lineWidth=.2,e.beginPath(),e.moveTo(this.x,this.y),e.lineTo(t.x,t.y),e.stroke()),e.save(),e.translate(this.x,this.y),e.rotate(this.angle),this.x>=t.x?e.drawImage(c,this.frameX*this.spriteWidth,this.frameY*this.spriteHeight,this.spriteWidth,this.spriteHeight,-55,-40,this.spriteWidth/4,this.spriteHeight/4):e.drawImage(d,this.frameX*this.spriteWidth,this.frameY*this.spriteHeight,this.spriteWidth,this.spriteHeight,-55,-40,this.spriteWidth/4,this.spriteHeight/4),e.restore()}},J=[...Array(10).keys()].map((()=>new a)),U=[...Array(0).keys()].map((()=>new m)),_=document.createElement("audio");_.src=Y;const D=document.createElement("audio");D.src=j;const G=()=>{P&&(F.pause(),setInterval((()=>{q.play(),e.fillStyle="black",e.fillRect(Math.floor(Math.random()*t.width),Math.floor(Math.random()*t.height),20,20),e.fillStyle="brown",e.font="48px sans-serif",e.fillText("Вляпался ☹",t.width/2-150,t.height/2),e.font="24px sans-serif",e.fillText("Попробуй ещё раз f5",t.width/2-150,(t.height+100)/2)}))),P||(e.clearRect(0,0,t.width,t.height),f.x1-=N,f.x1<-f.width&&(f.x1=f.width),f.x2-=N,f.x2<-f.width&&(f.x2=f.width),e.drawImage(l,f.x1,f.y,f.width,f.height),e.drawImage(l,f.x2,f.y,f.width,f.height),(()=>{L%50==0&&J.push(new a);for(let t=0;t<J.length;t++){const e=J[t];e.y<0-2*e.radius&&(J.splice(t,1),t--),g(e,z)&&(e.isCollision||("sound1"===e.sound?_.play():D.play(),Z++,e.isCollision=!0)),e.update(),e.draw()}})(),L%200==0&&U.push(new m),U.forEach((t=>{g(t,z)&&(P=!0),t.update(),t.draw()})),z.update(O),!z.isSwimming&&B.pause(),z.draw(O),e.font="24px sans-serif",e.fillStyle="black",e.fillText(`Счёт: ${Z}`,10,50),L++,requestAnimationFrame(G))};G(),F.play(),window.addEventListener("resize",(()=>{$=t.getBoundingClientRect()}))})()})();